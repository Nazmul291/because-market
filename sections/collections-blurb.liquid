<!-- /sections/collections-blurb.liquid -->

{% if section.blocks.size > 0 %}
    <div data-section-id="{{ section.id }}" >
    {% for offer in section.blocks %}
      {% if offer.settings.collection.id != collection.id %}
        {% continue %}
      {% endif %}

      <section id="{{ offer.id }}" class="collections-blurb_section">
        <div class="collections-blurb_container">
         <div class="collections-blurb_header">
            <div class="collections-blurb_title">
              {{ offer.settings.title }}
            </div>
            <div class="collections-blurb_expander" onclick="showDescriptionForSection('{{offer.id}}', this)" >
              +
            </div>
          </div>
          <div class="collections-blurb_description">
              {{ offer.settings.description }}
          </div>
        </div>
      </section>
      {%endfor%}
    </div>
  {%endif%}

<!-- Theme Javascript -->
<script>
    function showDescriptionForSection(sectionID, btn) {
      const selectedSection = document.getElementById(sectionID);
      const selectedDescription = selectedSection.querySelector('.collections-blurb_description');
      const wasShown = selectedDescription.classList.contains("collections-blurb_description--shown");
      if(!wasShown) {
        selectedDescription.classList.add("collections-blurb_description--shown");
      } else {
        selectedDescription.classList.remove("collections-blurb_description--shown");
      }
      btn.innerHTML = !wasShown ? "&ndash;" : "+";
 }
 </script>

{% stylesheet %}
.collections-blurb_section {
  display: flex;
  flex-direction: row;
  align-content: stretch;
  padding: 0 72px 90px;
  width: 100%;
  box-sizing: border-box;
  color: #000;
}
.collections-blurb_container {
  width: 52%!important;
  display: block;
  position: inherit;
  border-top: 1px solid #333;
  border-bottom: 1px solid #333;
}
@media only screen and (min-width: 320px) and (max-width: 767px) {
  .collections-blurb_section {
    padding: 0 2px 60px;
  }
  .collections-blurb_container {
    width: 100%!important;
    display: block;
    border-top: 1px solid #333;
    border-bottom: 1px solid #333;
    padding: 0 30px;
  }
}
.collections-blurb_header {
  display: inline-flex;
  width: 100%;
  padding: 5px 0 15px 0;
  font-style: normal;
  font-weight: 500;
  font-size: 36px;
  color: #333333;
  font-family: 'Cooper Md BT';
  font-style: normal;
  font-weight: 500;
  line-height: 35px;
  letter-spacing: 0px;
}
.collections-blurb_title {
  width: 99%;
}
.collections-blurb_expander {
  cursor:pointer;
}
.collections-blurb_description {
  display: none;
  font-family: 'Graphik';
  font-style: normal;
  font-size: 18px;
  color: #333333;
}
.collections-blurb_description--shown {
  display: block;
}
{% endstylesheet %}

{% schema %}
{
  "name": "Collections Blurb",
  "tag": "section",
  "blocks": [
    {
      "name": "Collections Blurb",
      "type": "collection",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection where to show"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Absorbent Incontinence Underwear"
        },
        {
          "id": "description",
          "type": "richtext",
          "label": "Text",
          "default": "<p>Staying leak-free with highly absorbent products that fit is key to managing bladder leakage. Our adult briefs and pads are built with a super-absorbent core, reinforced leak guards, odor protection, and a comfortable discreet fit. Designed with sensitive-skin in mind, our incontinence underwear are breathable and latex-free. Our product range includes moderate absorbency, maximum absorbency, and overnight absorbency items. Whether you prefer pull-up protective underwear or incontinence pads, shop Because Market for all of your ever-evolving needs. To find the right fit and absorbency level to prevent unwanted leakage, take our bladder protection quiz.<\/p>"
        }
      ]
    }
  ],
  "presets": [{
    "name": "Collections Blurb",
    "category": "Text"
  }]
}
{% endschema %}
