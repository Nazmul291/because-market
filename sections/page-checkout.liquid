<!-- /sections/page-checkout.liquid-->

<script src="https://js.recurly.com/v4/recurly.js" defer></script>
<!-- optional: include recurly.css -->
<link rel="stylesheet" href="https://js.recurly.com/v4/recurly.css">

<div data-section-id="{{ section.id }}">
  <div id="r-checkout"
    data-settings="{{ settings | json | escape }}"
    data-customer=""
  >
  </div>
</div>

<script>
  (function() {
    const el = document.querySelector("#r-checkout");

    el.dataset.customer = JSON.stringify({
      email: "{{ customer.email }}",
      first_name: "{{ customer.first_name }}",
      last_name: "{{ customer.last_name }}",
      phone: "{{ customer.phone }}",
      default_address: {{ customer.default_address | json }}
    });

  }())
</script>

{% include 'page-checkout-image-bundle' %}

<script src="{{ 'react.bundle.js' | asset_url }}" defer></script>
<script src="{{ 'react-dom.bundle.js' | asset_url }}" defer></script>
<script src="{{ 'pageCheckout.bundle.js' | asset_url }}" defer></script>
{{ 'pageCheckout.bundle.css' | asset_url | stylesheet_tag }}

{% schema %}
{
  "name": "Checkout",
  "class": "checkout",
  "settings": [

  ],
  "blocks": [

  ],
  "presets": [
    {
      "name": "Checkout",
      "category": "Custom Sections"
    }
  ]
}
{% endschema %}